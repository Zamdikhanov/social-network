(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/preloader.04505faa.svg"},107:function(e,t,a){e.exports=a.p+"static/media/lenin-way.85e5d1fb.png"},109:function(e,t,a){e.exports=a(257)},114:function(e,t,a){},116:function(e,t,a){},14:function(e,t,a){e.exports={title_message:"Login_title_message__T80mf",form_box:"Login_form_box__1tmVl",form_box__inner:"Login_form_box__inner__38A_A",form_box__title:"Login_form_box__title__2seWP",form_box__input:"Login_form_box__input__3L3ai",form_box__inputField:"Login_form_box__inputField__2uBg2",form_box__inputField_alert:"Login_form_box__inputField_alert__3kTKv",form_box__clue:"Login_form_box__clue__2Ts58",form_box__checkbox:"Login_form_box__checkbox__B9sRE",messageAlert:"Login_messageAlert__1mfoY",messageAlert_active:"Login_messageAlert_active__RZOol"}},15:function(e,t,a){e.exports={nav:"Nav_nav__1nT-Y",nav__list:"Nav_nav__list__J2Izh",nav__list_item:"Nav_nav__list_item__KJrTW",active_a:"Nav_active_a__11VjD"}},18:function(e,t,a){e.exports={profile_info_container:"Profileinfo_profile_info_container__1lVQq",profile_info__image_box:"Profileinfo_profile_info__image_box__1Q8ZX",profile_info__image:"Profileinfo_profile_info__image__oazdu",profile_info__content:"Profileinfo_profile_info__content__3lmJ1",profile_info__title:"Profileinfo_profile_info__title__15ddx",profile_info__about:"Profileinfo_profile_info__about__1Nh6O",profile_info__contact:"Profileinfo_profile_info__contact__3-Rna"}},244:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(50),o=a.n(s),l=(a(114),a(116),a(10)),i=a(1),c=a(3),u=a(4),_=a(6),m=a(2),f=a(5),p=a(11),g=a(7),d=a(13),E=a(100).create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"b076c552-0822-4bb0-890f-3a6e6d452108"}}),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return E.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return E.delete("follow/".concat(e)).then(function(e){return e.data})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return E.post("follow/".concat(e),{}).then(function(e){return e.data})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return console.warn("\u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f"),N.getProfile(e)},N={getProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return E.get("profile/".concat(e))},getStatus:function(e){return E.get("profile/status/".concat(e))},updateStatus:function(e){return E.put("profile/status",{status:e})}},x=function(){return E.get("auth/me").then(function(e){return e.data})},P=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return E.post("auth/login",{email:e,password:t,rememberMe:a}).then(function(e){return e.data})},k=function(){return E.delete("auth/login").then(function(e){return e.data})},O={postsData:[{id:1,message:"\u041f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u043b \u043a \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044e \u043f\u043e \u043a\u0443\u0440\u0441\u0443 IT-Kamasutra",likesCount:5},{id:2,message:"\u0412\u0442\u043e\u0440\u043e\u0439 \u0434\u0435\u043d\u044c (15.12.21) \u041a\u0443\u0440\u0441: \u041f\u0443\u0442\u044c \u0441\u0430\u043c\u0443\u0440\u0430\u044f",likesCount:7},{id:3,message:"\u0421\u0438\u0434\u0435\u043b \u0441 \u0440\u0435\u0431\u0435\u043d\u043a\u043e\u043c \u043f\u043e\u0447\u0442\u0438 \u043f\u043e\u043b\u043d\u044b\u0445 \u0434\u0432\u0430 \u0434\u043d\u044f",likesCount:1},{id:4,message:"\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u044b\u0439 \u0434\u0435\u043d\u044c (18.12.21) \u041a\u0443\u0440\u0441: \u041f\u0443\u0442\u044c \u0441\u0430\u043c\u0443\u0440\u0430\u044f",likesCount:5},{id:5,message:"\u0421\u0435\u0434\u044c\u043c\u043e\u0439 \u0434\u0435\u043d\u044c (22.12.21) \u043f\u043e\u043a\u043b\u044e\u0447\u0438\u043b Redux",likesCount:5}],profile:null,status:"",isFetching:!1},C=function(e){return{type:"SET_STATUS",status:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROFILE_USER":return Object(d.a)({},e,{profile:t.profile});case"ADD-POST":var a={id:6,message:t.newPostText,likesCount:0};return Object(d.a)({},e,{postsData:[].concat(Object(g.a)(e.postsData),[a]),newPostText:""});case"SET_STATUS":return Object(d.a)({},e,{status:t.status});default:return e}},S=a(34),U=a.n(S),j=a(51),T=a(27),I=a.n(T),A=a(63),F=a.n(A),L=function(e){return r.a.createElement("div",{className:F.a.post},r.a.createElement("img",{className:F.a.postImage,src:"https://svgx.ru/svg/159301.svg",alt:"avatar"}),r.a.createElement("div",null,e.postsData.message,r.a.createElement("div",null,"Likes: ",e.postsData.likesCount)))},D=a(16),M=a(26),R=function(e){return r.a.createElement(D.c,{initialValues:{textarea:""},validationSchema:M.b({textarea:M.c().max(70,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435").min(1).required("\u041d\u0435\u0447\u0435\u0433\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c")}),onSubmit:function(){var t=Object(j.a)(U.a.mark(function t(a){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.addPost(a.textarea),a.textarea="";case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},function(e){return r.a.createElement(D.b,{className:I.a.addPost},r.a.createElement("h3",{className:I.a.addPost__title},"\u041c\u043e\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),r.a.createElement(D.a,{as:"textarea",className:I.a.textarea+" "+(e.touched.textarea&&e.errors.textarea?I.a.textarea_alert:null),id:"textarea",name:"textarea",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),e.touched.textarea&&e.errors.textarea&&r.a.createElement("span",null,e.errors.textarea),r.a.createElement("button",{className:I.a.addPost__button,type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"))})},G=function(e){var t=e.postsData.map(function(e,t){return r.a.createElement(L,{key:t,postsData:e})}).reverse();return r.a.createElement("main",{className:I.a.myPosts},r.a.createElement(R,e),r.a.createElement("div",{className:I.a.postsContainer},t))},z=Object(p.b)(function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}},{addPost:function(e){return{type:"ADD-POST",newPostText:e}}})(G),B=(a(244),a(18)),H=a.n(B),W=a(106),Y=a.n(W),J=function(e){return r.a.createElement(r.a.Fragment,null,e.isFetching?r.a.createElement("img",{src:Y.a,alt:"download"}):null)},Q=a(41),q=a.n(Q),K=a(30),V=a.n(K),Z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(_.a)(this,Object(m.a)(t).call(this))).toggleEditMode=function(){a.state.editMode?(a.setState({editMode:!1}),a.props.updateUserStatus(a.state.status)):a.setState({editMode:!0})},a.onStatusChange=function(e){a.setState({status:e.currentTarget.value})},a.state={editMode:!1,status:e.status},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return r.a.createElement("div",{className:V.a.profile_status},this.state.editMode?r.a.createElement("div",{className:V.a.profile_status__inner},r.a.createElement("div",{className:V.a.profile_status__text},"\u0421\u0442\u0430\u0442\u0443\u0441:"),r.a.createElement("input",{onChange:this.onStatusChange,value:this.state.status,onBlur:this.toggleEditMode,autoFocus:!0})):r.a.createElement("div",{className:V.a.profile_status__inner},r.a.createElement("div",{className:V.a.profile_status__text},"\u0421\u0442\u0430\u0442\u0443\u0441:"),r.a.createElement("span",null,this.props.status||"*****"),r.a.createElement("button",{className:V.a.profile_status__button,onClick:this.toggleEditMode},"\u0438\u0437\u043c.")))}}]),t}(r.a.Component),X=function(e){return e.profile?r.a.createElement("div",{className:H.a.profile_info_container},r.a.createElement("div",{className:H.a.profile_info__image_box},r.a.createElement("img",{className:H.a.profile_info__image,src:e.profile.photos.large?e.profile.photos.large:q.a,alt:"avatar"})),r.a.createElement("div",{className:H.a.profile_info__content},r.a.createElement("div",{className:H.a.profile_info__title},e.profile.fullName),r.a.createElement(Z,{status:e.status,updateUserStatus:e.updateUserStatus}),r.a.createElement("div",{className:H.a.profile_info__about},r.a.createElement("span",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," ",e.profile.aboutMe," ",r.a.createElement("br",null),r.a.createElement("span",null,"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b:")," ",e.profile.lookingForAJob?" \u0414\u0430":" \u041d\u0435\u0442"," ",r.a.createElement("br",null),r.a.createElement("span",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b:"),e.profile.lookingForAJobDescription),r.a.createElement("div",{className:H.a.profile_info__contact},r.a.createElement("ul",null," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",r.a.createElement("li",null,r.a.createElement("span",null,"Facebook:")," ",r.a.createElement("a",{href:e.profile.contacts.facebook,target:"_blank",rel:"noopener noreferrer"},e.profile.contacts.facebook)),r.a.createElement("li",null,r.a.createElement("span",null,"Website:")," ",r.a.createElement("a",{href:e.profile.contacts.website,target:"_blank",rel:"noopener noreferrer"},e.profile.contacts.website)),r.a.createElement("li",null,r.a.createElement("span",null,"VK:")," ",r.a.createElement("a",{href:e.profile.contacts.vk,target:"_blank",rel:"noopener noreferrer"},e.profile.contacts.vk)),r.a.createElement("li",null,r.a.createElement("span",null,"Twitter:")," ",r.a.createElement("a",{href:e.profile.contacts.twitter,target:"_blank",rel:"noopener noreferrer"},e.profile.contacts.twitter)),r.a.createElement("li",null,r.a.createElement("span",null,"Instagram:")," ",r.a.createElement("a",{href:e.profile.contacts.instagram,target:"_blank",rel:"noopener noreferrer"},e.profile.contacts.instagram)),r.a.createElement("li",null,r.a.createElement("span",null,"Youtube:")," ",r.a.createElement("a",{href:e.profile.contacts.youtube,target:"_blank",rel:"noopener noreferrer"},e.profile.contacts.youtube)),r.a.createElement("li",null,r.a.createElement("span",null,"Github:")," ",r.a.createElement("a",{href:e.profile.contacts.github,target:"_blank",rel:"noopener noreferrer"},e.profile.contacts.github)),r.a.createElement("li",null,r.a.createElement("span",null,"MainLink:")," ",r.a.createElement("a",{href:e.profile.contacts.mainLink,target:"_blank",rel:"noopener noreferrer"},e.profile.contacts.mainLink)))))):r.a.createElement("div",{className:H.a.profile_info_container},r.a.createElement("img",{className:H.a.profile_info__image,src:q.a,alt:"avatar"}),r.a.createElement("div",{className:H.a.profile_info__content},r.a.createElement("div",{className:H.a.profile_info__title},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"),r.a.createElement("div",{className:H.a.profile_info__about},r.a.createElement("span",null,"\u041e\u0431\u043e \u043c\u043d\u0435:")," \u0435\u0441\u043b\u0438 \u0432\u044b \u0432\u0438\u0434\u0438\u0442\u0435 \u044d\u0442\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u0437\u043d\u0430\u0447\u0438\u0442 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442, \u043b\u0438\u0431\u043e \u043a\u043e\u043d\u0447\u0438\u043b\u0430\u0441\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0430 API \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f GITHUB. \u0415\u0441\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043d\u0430 \u0441\u0432\u043e\u0439 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440, \u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c",r.a.createElement("br",null),r.a.createElement("span",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),"\u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b"),r.a.createElement("div",null,r.a.createElement(J,{isFetching:e.isFetching})),r.a.createElement("div",{className:H.a.profile_info__contact},r.a.createElement("ul",null," \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",r.a.createElement("li",null,r.a.createElement("span",null,"\u0421\u043e\u0446. \u0441\u0435\u0442\u044c:")," \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b")))))},$=function(e){return r.a.createElement("main",{className:"profile"},r.a.createElement(X,e),r.a.createElement(z,null))},ee=function(e){function t(){return Object(c.a)(this,t),Object(_.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=21488;this.props.match?e=this.props.match.params.userId:null!=this.props.userId&&(e=this.props.userId),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return r.a.createElement($,this.props)}}]),t}(r.a.Component),te=Object(p.b)(function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,userId:e.auth.userId}},{getUserProfile:function(e){return function(t){w(e).then(function(e){t({type:"SET_PROFILE_USER",profile:e.data})})}},getUserStatus:function(e){return function(t){N.getStatus(e).then(function(e){t(C(e.data))})}},updateUserStatus:function(e){return function(t){N.updateStatus(e).then(function(a){0===a.data.resultCode&&t(C(e))})}}})(function(e){var t=Object(i.g)("social-network/profile/:userId/");return r.a.createElement(ee,Object.assign({},e,{match:t}))}),ae=a(15),ne=a.n(ae),re=function(){return r.a.createElement("nav",{className:ne.a.nav},r.a.createElement("ul",{className:ne.a.nav__list},r.a.createElement("li",{className:ne.a.nav__list_item},r.a.createElement(l.b,{to:"social-network/profile",className:function(e){return e.isActive?ne.a.active_a:ne.a.item}},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c")),r.a.createElement("li",{className:ne.a.nav__list_item},r.a.createElement(l.b,{to:"social-network/dialogs",className:function(e){return e.isActive?ne.a.active_a:ne.a.item}},"\u0414\u0438\u0430\u043b\u043e\u0433\u0438")),r.a.createElement("li",{className:ne.a.nav__list_item},r.a.createElement(l.b,{to:"social-network/content",className:function(e){return e.isActive?ne.a.active_a:ne.a.item}},"\u041a\u043e\u043d\u0442\u0435\u043d\u0442")),r.a.createElement("li",{className:ne.a.nav__list_item},r.a.createElement(l.b,{to:"social-network/users",className:function(e){return e.isActive?ne.a.active_a:ne.a.item}},"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"))))},se=a(35),oe={usersPost:[{id:1,message:"Hello world!",likesCount:5},{id:2,message:"I am programming",likesCount:6},{id:3,message:"It`s cool!",likesCount:10},{id:4,message:"It`s very cool!",likesCount:11}],usersData:[{id:"1",name:"Airat"},{id:"2",name:"Lilya"},{id:"3",name:"Bulat"}],newPostText:""},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOG-ADD-POST":var a={id:5,message:t.text,likesCount:0};return Object(d.a)({},e,{usersPost:[].concat(Object(g.a)(e.usersPost),[a]),newPostText:""});default:return e}},ie=a(31),ce=a.n(ie),ue=a(65),_e=a.n(ue),me=function(e){return r.a.createElement("div",{className:_e.a.message},e.message,r.a.createElement("div",{className:_e.a.likes},"Likes: ",e.likesCount))},fe=a(66),pe=a.n(fe),ge=function(e){return r.a.createElement("div",{className:pe.a.dialog+" "+pe.a.active},r.a.createElement(l.b,{to:"social-network/login"+e.id}," ",e.name," "))},de=function(e){return r.a.createElement(D.c,{initialValues:{textarea:""},onSubmit:function(){var t=Object(j.a)(U.a.mark(function t(a){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.onAddPost(a.textarea),a.textarea="";case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},r.a.createElement(D.b,{className:ce.a.form_box},r.a.createElement("label",{className:ce.a.form_box__input},r.a.createElement(D.a,{className:ce.a.textarea,as:"textarea",id:"textarea",name:"textarea",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})),r.a.createElement("button",{type:"submit",disabled:!1},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))},Ee=function(e){var t=e.usersData.map(function(e){return r.a.createElement(ge,{key:e.id,id:e.id,name:e.name})}),a=e.usersPost.map(function(e){return r.a.createElement(me,{message:e.message,likesCount:e.likesCount})});return r.a.createElement("div",{className:ce.a.dialogs},r.a.createElement("div",{className:ce.a.dialogList},t),r.a.createElement("div",{className:ce.a.messages},r.a.createElement("div",null,a),r.a.createElement(de,e)))},be=Object(se.c)(Object(p.b)(function(e){return{usersData:e.dialogPage.usersData,usersPost:e.dialogPage.usersPost,newPostText:e.dialogPage.newPostText}},function(e){return{onAddPost:function(t){e(function(e){return{type:"DIALOG-ADD-POST",text:e}}(t))}}}),function(e){return Object(p.b)(function(e){return{isAuth:e.auth.isAuth}})(function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(i.a,{to:"/social-network/login"})})})(Ee),he={users:[{id:1,followed:!1,name:"Lenin",photos:{small:"https://content.tviz.tv/gfx/res/44466/azb4n7wrxnkg0w4gwsk0w0o4o.jpg",large:"https://content.tviz.tv/gfx/res/44466/azb4n7wrxnkg0w4gwsk0w0o4o.jpg"},status:"\u041b\u0435\u0436\u0443",location:{city:"Ulyanovsk",country:"Russia"}},{id:2,followed:!0,name:"Lilya",photos:{small:"https://content.tviz.tv/gfx/res/44466/azb4n7wrxnkg0w4gwsk0w0o4o.jpg"},status:"I am the best",location:{city:"Ulyanovsk",country:"Russia"}},{id:3,followed:!1,name:"Bulat",photos:{small:"https://content.tviz.tv/gfx/res/44466/azb4n7wrxnkg0w4gwsk0w0o4o.jpg"},status:"Hi all",location:{city:"Ulyanovsk",country:"Russia"}}],pageSize:12,totalUsersCount:0,currentPage:500,isFetching:!1,followingInProgress:[]},ve=function(e){return{type:"TOGGLE_FOLLOW",userId:e}},we=function(e){return{type:"SET_USERS",users:e}},Ne=function(e){return{type:"SET_TOTAL_COUNT",count:e}},xe=function(e){return{type:"SET_CURRENT_PAGE",page:e}},Pe=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},ke=function(e,t){return{type:"TOGGLE_FOLOWING_IN_PROGRESS",isFetching:e,id:t}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_FOLLOW":return Object(d.a)({},e,{users:e.users.map(function(e){return e.id===t.userId?Object(d.a)({},e,{followed:!e.followed}):e})});case"SET_USERS":return Object(d.a)({},e,{users:Object(g.a)(t.users)});case"SET_CURRENT_PAGE":return Object(d.a)({},e,{currentPage:t.page});case"SET_TOTAL_COUNT":return Object(d.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(d.a)({},e,{isFetching:t.isFetching});case"TOGGLE_FOLOWING_IN_PROGRESS":return Object(d.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(g.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter(function(e){return e!==t.id})});default:return e}},Ce=a(8),ye=a.n(Ce),Se=function(e){var t=Math.ceil(e.totalUsersCount/e.pageSize),a=r.a.createRef();return r.a.createElement("div",{className:ye.a.main},r.a.createElement("div",{className:ye.a.pageNumbersWrap},r.a.createElement("div",{className:ye.a.pageNumbers},r.a.createElement("button",{className:ye.a.switchingPageButton+" "+ye.a.leftNarrow,onClick:function(){e.onPageChanged(e.currentPage-1)}},"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f"),r.a.createElement("div",{className:ye.a.pageNumber_text}," \u0441\u0442\u0440. ",r.a.createElement("span",null,e.currentPage)," \u0438\u0437 ",t," "),r.a.createElement("button",{className:ye.a.switchingPageButton+" "+ye.a.rightNarrow,onClick:function(){e.onPageChanged(e.currentPage+1)}},"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"),r.a.createElement(J,{isFetching:e.isFetching})),r.a.createElement("div",{className:ye.a.pageNumbers},r.a.createElement("input",{className:ye.a.pageNumberInput,type:"number",ref:a,placeholder:e.currentPage}),r.a.createElement("button",{className:ye.a.switchingPageButton+" "+ye.a.submit,onClick:function(){var n;e.onPageChanged(Math.round((n=a.current.value,Number(n)<0?1:Number(n)>t?t:n))),a.current.value=""}},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"))),e.users.map(function(t){return r.a.createElement("div",{key:t.id,className:ye.a.userCard,style:{backgroundImage:null!=t.photos.large?"url("+t.photos.large+")":"url("+q.a+")"}},r.a.createElement("div",{className:ye.a.gradient}),r.a.createElement("div",{className:ye.a.userCard__inner},r.a.createElement("div",{className:ye.a.fullName},t.name),r.a.createElement("div",{className:ye.a.data},"ID:",t.id),r.a.createElement("div",{className:ye.a.data},t.status),r.a.createElement("button",{disabled:e.followingInProgress.some(function(e){return e===t.id}),className:ye.a.button,onClick:function(){return e.onClickFollow(t)}},t.followed?"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f":"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),r.a.createElement(l.b,{to:"/social-network/profile/"+t.id,className:ye.a.link},r.a.createElement("button",{className:ye.a.button},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"))))}))},Ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(_.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){a.props.getUsers(e,a.props.pageSize)},a.onClickFollow=function(e){a.props.toggleFollow(e)},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{isFetching:this.props.isFetching}),r.a.createElement(Se,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,followingInProgress:this.props.followingInProgress,onPageChanged:this.onPageChanged,onClickFollow:this.onClickFollow}))}}]),t}(r.a.Component),je=Object(p.b)(function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgress:e.usersPage.followingInProgress}},{toggleStateFollow:ve,setUsers:we,setTotalCount:Ne,setCurrentPages:xe,toggleIsFetching:Pe,toggleFollowingInProgress:ke,getUsers:function(e,t){return function(a){a(xe(e)),a(Pe(!0)),b(e,t).then(function(e){a(Pe(!1)),a(we(e.items)),a(Ne(e.totalCount))})}},toggleFollow:function(e){return function(t){t(ke(!0,e.id)),e.followed?h(e.id).then(function(a){0===a.resultCode&&t(ve(e.id)),t(ke(!1,e.id))}):v(e.id).then(function(a){0===a.resultCode&&t(ve(e.id)),t(ke(!1,e.id))})}}})(Ue),Te={userId:null,email:null,login:null,isAuth:!1,isFetching:!1},Ie=function(e,t,a,n){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:a,isAuth:n}}},Ae=function(){return function(e){x().then(function(t){if(0===t.resultCode){var a=t.data,n=a.id,r=a.login,s=a.email;e(Ie(n,s,r,!0))}})}},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(d.a)({},e,t.payload);default:return e}},Le=a(36),De=a.n(Le),Me=a(107),Re=a.n(Me),Ge=function(e){return r.a.createElement("header",{className:De.a.header},r.a.createElement(l.b,{to:"social-network/",className:De.a.header_text},'\u0421\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u043a\u0443\u0440\u0441\u0443 "\u041f\u0443\u0442\u044c \u0441\u0430\u043c\u0443\u0440\u0430\u044f"'),r.a.createElement("img",{className:De.a.hint_img,src:Re.a,alt:"Lenin"}),r.a.createElement("h2",null,"SOCIAL NETWORK"),r.a.createElement("button",{className:De.a.login_button},e.isAuth?r.a.createElement("span",{onClick:e.logOut},e.login):r.a.createElement(l.b,{to:"social-network/login",className:De.a.login_button__link},"\u0412\u043e\u0439\u0442\u0438")))},ze=function(e){function t(){return Object(c.a)(this,t),Object(_.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getUserAuthData()}},{key:"render",value:function(){return r.a.createElement(Ge,this.props)}}]),t}(r.a.Component),Be=Object(p.b)(function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}},{getUserAuthData:Ae,logOut:function(){return function(e){k().then(function(t){0===t.resultCode&&e(Ie(null,null,null,!1))})}}})(ze),He=a(14),We=a.n(He),Ye=function(e){return e.isAuth?r.a.createElement(i.a,{to:"/social-network/profile/"}):r.a.createElement(D.c,{initialValues:{email:"",password:"",rememberMe:!1},validationSchema:M.b({email:M.c().max(40,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430").min(1).required("\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435 Email"),password:M.c().max(20,"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c").min(1).required("\u041f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435 Password"),rememberMe:M.a()}),onSubmit:function(t,a){var n=a.setSubmitting,r=a.setStatus;e.login(t.email,t.password,t.rememberMe,r),n(!1)}},function(e){return r.a.createElement(D.b,{className:We.a.form_box},r.a.createElement("div",{className:We.a.form_box__inner},r.a.createElement("h2",{className:We.a.form_box__title},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("label",{className:We.a.form_box__input},"Email",r.a.createElement(D.a,{type:"email",id:"email",name:"email",className:We.a.form_box__inputField+" "+(e.touched.email&&e.errors.email?We.a.form_box__inputField_alert:null)})),r.a.createElement("div",{className:We.a.form_box__clue},"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 Email: ",r.a.createElement("br",null),r.a.createElement("span",null,"free@samuraijs.com")),r.a.createElement("label",{className:We.a.form_box__input},"\u041f\u0430\u0440\u043e\u043b\u044c",r.a.createElement(D.a,{type:"password",id:"password",name:"password",className:We.a.form_box__inputField+" "+(e.touched.password&&e.errors.password?We.a.form_box__inputField_alert:null)})),r.a.createElement("div",{className:We.a.form_box__clue},"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 Password: ",r.a.createElement("br",null),r.a.createElement("span",null,"free")),r.a.createElement("label",{className:We.a.form_box__checkbox},"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f",r.a.createElement(D.a,{type:"checkbox",id:"rememberMe",name:"rememberMe"})),r.a.createElement("button",{type:"submit",disabled:!1},"\u0412\u043e\u0439\u0442\u0438")),r.a.createElement("div",{className:We.a.messageAlert+" "+(e.touched.email&&e.errors.email||e.touched.password&&e.errors.password||e.status?We.a.messageAlert_active:null)},e.touched.email&&e.errors.email&&r.a.createElement("div",null,e.errors.email),e.touched.password&&e.errors.password&&r.a.createElement("div",null,e.errors.password),r.a.createElement("div",null,e.status)))})},Je=Object(p.b)(function(e){return{isAuth:e.auth.isAuth}},{login:function(e,t,a,n){return function(r){P(e,t,a).then(function(e){0===e.resultCode?r(Ae()):n(e.messages)})}}})(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:We.a.title_message},"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0435\u0442\u044c"),r.a.createElement(Ye,e))});var Qe=function(e){return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Be,null),r.a.createElement(re,null),r.a.createElement("main",{className:"main"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"social-network/*",element:r.a.createElement(te,null)}),r.a.createElement(i.b,{path:"social-network/dialogs/*",element:r.a.createElement(be,null)}),r.a.createElement(i.b,{path:"social-network/profile/*",element:r.a.createElement(te,null)}),r.a.createElement(i.b,{path:"social-network/users",element:r.a.createElement(je,null)}),r.a.createElement(i.b,{path:"social-network/content",element:r.a.createElement("div",null)}),r.a.createElement(i.b,{path:"social-network/login",element:r.a.createElement(Je,null)})))))},qe={},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;arguments.length>1&&arguments[1];return e},Ve=a(108),Ze=Object(se.b)({profilePage:y,dialogPage:le,sidebar:Ke,usersPage:Oe,auth:Fe}),Xe=Object(se.d)(Ze,Object(se.a)(Ve.a));window.store=Xe;var $e=Xe;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p.a,{store:$e},r.a.createElement(Qe,null))),document.getElementById("root"))},27:function(e,t,a){e.exports={myPosts:"MyPosts_myPosts__OvvwB",postsContainer:"MyPosts_postsContainer__1QH3Q",addPost:"MyPosts_addPost__UxLtW",addPost__title:"MyPosts_addPost__title__16aYK",textarea:"MyPosts_textarea__3UQS5",textarea_alert:"MyPosts_textarea_alert__ty1rf",addPost__button:"MyPosts_addPost__button__QD4l7"}},30:function(e,t,a){e.exports={profile_status:"Profilestatus_profile_status__2QAYq",profile_status__inner:"Profilestatus_profile_status__inner__3LJjF",profile_status__text:"Profilestatus_profile_status__text__2_968",profile_status__button:"Profilestatus_profile_status__button__2-33E"}},31:function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__EObeM",dialogList:"Dialogs_dialogList__2odgt",messages:"Dialogs_messages__1emPh",textarea:"Dialogs_textarea__28bnv"}},36:function(e,t,a){e.exports={header:"Header_header__RyKuI",move:"Header_move__2SgrR",header_text:"Header_header_text__2NJgF",hint_img:"Header_hint_img__ZMvBf",login_button:"Header_login_button__37ntF",login_button__link:"Header_login_button__link__Q7Xxf"}},41:function(e,t,a){e.exports=a.p+"static/media/unload-avatar.482a2308.webp"},63:function(e,t,a){e.exports={post:"Post_post__19zsQ",postImage:"Post_postImage__2gkUD"}},65:function(e,t,a){e.exports={message:"Message_message__2qn5h",likes:"Message_likes__bL8Gp"}},66:function(e,t,a){e.exports={dialog:"UserData_dialog__3U63Y",active:"UserData_active__1hx5L"}},8:function(e,t,a){e.exports={main:"Users_main__3cFxC",pageNumbersWrap:"Users_pageNumbersWrap__2iEzm",pageNumbers:"Users_pageNumbers__2jInc",switchingPageButton:"Users_switchingPageButton__1yWUv",leftNarrow:"Users_leftNarrow__2OqzY",rightNarrow:"Users_rightNarrow__2YLbO",pageNumber_text:"Users_pageNumber_text__17pkf",pageNumberInput:"Users_pageNumberInput__16Hxo",submit:"Users_submit__1MCYR",userCard:"Users_userCard__cc6Rv",temp:"Users_temp__1tAqR",gradient:"Users_gradient__3pymr",userCard__inner:"Users_userCard__inner__Cwr91",fullName:"Users_fullName__LUSat",data:"Users_data__Mw4Z6",button:"Users_button__1BXV2",link:"Users_link__2pu6U"}}},[[109,2,1]]]);
//# sourceMappingURL=main.8edb79dd.chunk.js.map